<% goals.each do |goal| %>
  <li class="list-group-item" >
    <div class="d-flex" >
      <% if  goal.name == "Food" %>
        <% [true, true, true].zip(goal.submissions.first(3)).each do |(achieved_value, saved_submission)|%>
          <% if saved_submission %>
            <p>Done</p>
          <% else %>
            <%= simple_form_for [goal, Submission.new], html: {data: {action: "change->tasks#mark"}} do |f| %>
              <%= f.input :achieved, input_html: { value: true } %>
              <%= f.input :date, as: :hidden, input_html: { value: Date.today } %>
            <% end %>
          <% end %>
        <% end %>
      <% elsif goal.submissions.any? %>
        <p><%= goal.name %></p>
      <% else %>
        <%= simple_form_for [goal, Submission.new], html: {data: {action: "change->tasks#mark"}} do |f| %>
          <%= f.input :achieved, input_html: { value: true } %>
          <%= f.input :date, as: :hidden, input_html: { value: Date.today } %>
        <% end %>
        <p><%= goal.name %></p>
      <% end %>
    </li>
  </div>
<% end %>
