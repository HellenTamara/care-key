<% goals.each do |goal| %>
  <div class="list-group-item d-flex task-item" >
    <% if  goal.name == "Food" %>
      <% [true, true, true].zip(goal.submissions.first(3)).each do |(achieved_value, saved_submission)|%>
        <% if saved_submission %>
          <h4><s><%= goal.name %></s></h4>
        <% else %>
          <%= simple_form_for [goal, Submission.new], html: {data: {action: "change->tasks#mark"}} do |f| %>
            <%= f.input :achieved, input_html: { value: true } %>
            <%= f.input :date, as: :hidden, input_html: { value: Date.today } %>
          <% end %>
        <% end %>
      <% end %>
    <% elsif goal.submissions.any? %>
      <div>
      <h4><s><%= goal.name %></s></h4>
      </div>
    <% else %>
      <h4><%= goal.name %></h4>
      <%= simple_form_for [goal, Submission.new], html: {data: {action: "change->tasks#mark"}} do |f| %>
        <%= f.input :achieved, label: false, input_html: { value: true } %>
        <%= f.input :date, as: :hidden, input_html: { value: Date.today } %>
      <% end %>
    <% end %>
  </div>
<% end %>
